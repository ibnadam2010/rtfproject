{% extends 'adminbase.html.twig' %}

{% block admin %}
	<div class="modal updateSuccess" tabindex="-2" role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<center><span style=" color:green;font-size: 18px "><i class="fas fa-check"></i> Département modifié avec succès.</span></center>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
				</div>
			</div>
		</div>
	</div>

<!-- Modal -->


<br/>
	<button type="button" class="btn" style="background:#122e48;color:white" data-toggle="modal" data-target="#exampleModal">
  <i class="fas fa-plus"></i> Ajouter
</button>
    <h3 style="color:#122e48" >Liste des Departements</h3>
		<div class="form-group">
			<div class = "input-group">
			<input type="text" id ="filter" name = "prenom" class="form-control" placeholder="Rechercher un département"/>
			</div>
	</div>
	
	<table  class="footable" data-page-size ="3" data-filter="#filter">
		<thead >
			<th data-toggle="true" style="background:#122e48">Nom</th>
			<th data-hide="phone" style="background:#122e48">Date de création</th>
			<th data-hide="phone" style="background:#122e48">Action</th>
		</thead>
		<tbody >
		 {% for departement in departements %}
		<tr>
			<td>{{ departement.nomDepartement }}</td>
			<td>{{ departement.dateEnreg|date("d/m/Y") }}</td>
			<td>
			<a href="{{ path('update_departements') }}" class="btn btn-warning btn-sm" data-toggle = "modal"    data-target = "#myModal{{ departement.id }}"><i class="fas fa-pencil-alt"></i></a>
			<a class="btn btn-danger btn-sm confirm" onclick="deleteDep({{ departement.id }})" style="color:white;cursor:pointer"  ><i class="fas fa-trash" aria-hidden="true"></i></a>
				<div class = "modal updateDep" id = "myModal{{ departement.id }}" tabindex = "-1" role = "dialog"
					 aria-labelledby = "myModalLabel{{ departement.id }}" aria-hidden = "true">
					<div class = "modal-dialog">
						<div class = "modal-content">
							<div class = "modal-header">
								<button type = "button" class = "close" data-dismiss = "modal"
										aria-label ="close"><span aria-hidden="true">&times;</span></button>
								<h4 class = "modal-title" id = "myModalLabel{{ departement.id }}" ></h4>
							</div>


							<div class = "modal-body" >
								<div class="form-group">
									<label for="inputDep">Département :</label>
									<input type="text" class="form-control" id="inputDep{{ departement.id }}" value="{{ departement.nomDepartement }}" placeholder="1234 Main St">
								</div>
							</div>
							<div class = "modal-footer">
								<button type = "button" class = "btn btn-default"
										data-dismiss = "modal" >Fermer</button>
								<button type = "submit" onclick="modifierDepartement('{{ departement.id }}')" class ="btn btn-primary">Modifier</button>
							</div>
						</div>
					</div>
				</div>
			</td>
		</tr>				
		{% endfor %}
		</tbody>
		
		<tfoot class = "hide-if-no-paging">
    				<td colspan="3">

    						<div class = "pagination">

    						</div>

    				</td>

    		</tfoot>
		
		</table>



{% endblock %}
